<link rel="stylesheet" href="/images/promos/fontawesome.min.css">
<style type="text/css">
    .four-across,
    .three-across,
    .three-times-size,
    .two-across {
        float: left;
        border-collapse: separate;
        position: relative
    }

    .form-submit-btn,
    .four-across,
    .section-wrap,
    .three-across,
    .three-times-size,
    .two-across {
        position: relative
    }

    .four-across {
        width: 21%;
        margin: 1em
    }

    .two-across {
        width: 45%;
        margin: 1em 1.7em 3px 0
    }

    .three-across {
        width: 30%;
        margin: 1em 1em 3px 0
    }

    .three-times-size {
        margin: 1em 1.8em 3px 0;
        width: 60%
    }

    .first-row-input {
        clear: left
    }

    @media all and (max-width:768px) {
        .four-across,
        .three-across,
        .three-times-size,
        .two-across {
            float: none;
            width: 90%;
            margin: 1em auto
        }
    }

    .page-header {
        text-align: left;
        padding-bottom: 25px;
        height: 210px
    }

    .page-header .fa {
        font-size: 6em;
        color: #034694
    }

    .header-graphic {
        padding-left: 12px;
        width: 16%;
        float: left
    }

    .header-content {
        width: 83%;
        float: left
    }

    .return-page-title {
        font-size: 1.6875em;
        line-height: 34px;
        font-weight: 700;
        display: block;
        padding-top: 10px
    }

    .return-page-sub-title {
        font-size: 1.5em;
        line-height: 30px;
        font-weight: 600
    }

    .explain-text {
        font-size: 1.125em;
        line-height: 24px;
        font-weight: 400;
        display: block
    }

    .return-home-btn {
        border: 1px solid #FFF;
        color: #FFF;
        border-radius: 2px;
        background-color: #034694;
        height: 45px;
        margin: 20px auto;
        display: block;
        font-weight: 700;
        transition: all .4s ease-in-out;
        width: 46%
    }

    .return-home-btn:hover {
        border: 1px solid #034694;
        color: #034694;
        background-color: #FFF;
        cursor: pointer
    }

    @media all and (max-width:768px) {
        .header-graphic {
            display: none
        }
        .page-header {
            text-align: center;
            height: 160px;
            margin: 10px 0 5px
        }
        .header-content {
            width: 100%;
            float: none
        }
        .explain-text {
            font-size: 1em;
            line-height: 24px
        }
    }

    @media all and (max-width:420px) {
        .return-page-title {
            font-size: 1.5em;
            line-height: 30px;
            padding-top: 10px
        }
        .explain-text {
            font-size: 1em;
            line-height: 18px
        }
        .return-page-sub-title {
            font-size: 1.0714285714285714em;
            line-height: 21px;
            margin-bottom: 6px
        }
        .page-header {
            padding: 2px 5px
        }
    }

    @media all and (max-width:375px) {
        .return-page-title {
            font-size: 1.4285714285714286em;
            line-height: 27px;
            padding-top: 3px
        }
        .explain-text {
            font-size: .8571428571428571em;
            line-height: 17px
        }
    }

    @media all and (max-width:320px) {
        .explain-text {
            font-size: .5833333333333334em;
            line-height: 18px
        }
        .return-page-sub-title {
            font-size: 1em;
            line-height: 18px
        }
        .page-header {
            padding: 2px 0;
            margin: 10px 0 0
        }
    }

    .form-field .form-control {
        padding: 9px 2px;
        height: auto
    }

    .label-text {
        padding: 5px 0 10px 4px;
        float: left;
        text-align: left
    }

    label sup {
        top: -.1em
    }

    .fields {
        width: 240px;
        height: 40px;
        float: left;
        margin-right: 340px
    }

    .input-group {
        height: 60px
    }

    .input-field {
        border: 1px solid #CCC;
        border-radius: 2px;
        display: inline-block;
        padding: 9px 2px;
        width: 100%
    }

    .error {
        font-style: italic;
        color: #D41920;
        font-size: .9285714285714286em;
        display: none
    }

    .error:before {
        content: "\00BB \0020";
        color: #D41920
    }

    .show-el {
        display: block !important
    }

    .big-text {
        font-size: 1em;
        line-height: 30px;
        font-weight: 500
    }

    .section-wrap {
        min-height: 180px;
        height: 100%;
        width: 100%;
        margin: 20px 0;
        padding: 5px 10px
    }

    .return-info-wrap {
        height: 280px
    }

    .section-header {
        padding: 20px 0 20px 10px
    }

    .section-header h2 {
        font-size: 1.125em;
        font-weight: 700
    }

    #text_remaining,
    #your_comments {
        width: 98%;
        margin: 4px auto 0;
        display: block
    }

    .success-message {
        width: 90%;
        margin: 10px auto;
        text-align: center
    }

    .success-message h2 {
        font-size: 1.3333333333333333em;
        line-height: 44px;
        font-weight: 700
    }

    .success-message p {
        font-size: 1em;
        line-height: 30px;
        font-weight: 600
    }

    form {
        margin: 10px auto 100px
    }

    .form-submit-btn {
        border: 1px solid #FFF;
        color: #FFF;
        border-radius: 2px;
        background-color: #D71920;
        height: 45px;
        margin-top: 20px;
        margin-left: 20px;
        font-weight: 700;
        transition: all .4s ease-in-out;
        bottom: 0;
        right: 20%
    }

    .form-submit-btn:hover {
        border: 1px solid #D71920;
        color: #D71920;
        background-color: #FFF;
        cursor: pointer
    }

    .hours-list {
        width: 400px;
        height: auto;
        padding: 10px;
        border: 3px solid #034694;
        border-radius: 6px;
        margin: 10px auto 0
    }

    .hours-list h2 {
        text-align: center;
        font-size: .8333333333333334em;
        font-weight: 600
    }

    .hours-list ul {
        list-style-type: none
    }

    .hours-list ul li {
        font-size: .7083333333333334em;
        font-weight: 500;
        margin: 5px 0;
        text-align: left;
        padding-left: 5%
    }

    @media all and (max-width:768px) {
        #text_remaining,
        #your_comments {
            width: 100%
        }
        .form-submit-btn {
            margin-left: 0;
            right: 0;
            width: 100%
        }
        .return-info-wrap {
            height: 460px
        }
        .label-text {
            float: none
        }
        .input-field {
            display: block;
            width: 100%
        }
    }

    @media all and (max-width:460px) {
        .hours-list {
            width: 276px
        }
        .hours-list h2 {
            font-size: .5833333333333334em
        }
        .hours-list ul li {
            font-size: .5416666666666666em;
            padding-left: 12px
        }
        .success-message p {
            font-size: .5833333333333334em;
            line-height: 19.5px
        }
    }
</style>
<main class="container">
    <header class="page-header">
        <div class="header-graphic">
            <i class="fa fa-history" aria-hidden="true"></i>
        </div>
        <div class="header-content">
            <h1 class="return-page-title">Return or Exchange an Item</h1>
            <p class="return-page-sub-title">Need to return an item? We’re happy to help!</p>
            <p class="explain-text">Please complete and submit the form below, and a customer service agent will contact you soon.</p>
            <p class="explain-text">All returns must fall within our
                <a href="https://www.pcrichard.com/customer-service/return-policy">policy guidelines</a>.</p>
            <p class="explain-text">For all other comments and questions, please
                <a title="Contact Us" href="https://www.pcrichard.com/global/modals/modal-contact.jsp?modal=true"
                    data-toggle="modal" data-target="#pcrModal">contact us here</a>.</p>
        </div>
    </header>
    <form id="return_auth_form" action="" title="Process A Return">
        <section class="cust-info-wrap row section-wrap">
            <header class="col-xs-12 section-header">
                <h2>Customer Information:</h2>
            </header>
            <div class="three-times-size">
                <label for="cust_name" class="label-text">Name</label>
                <input aria-label="Name" id="cust_name" name="cust_name" class="input-field your-name" aria-labelledby="Name" type="text"
                    maxlength="50" placeholder="Your Name">
                <p class="error name-err">Please Add a Valid Name</p>
            </div>
            <div class="three-across">
                <label for="cust_phone" class="label-text">Phone</label>
                <input id="cust_phone" aria-label="Phone" name="cust_phone" class="input-field your-phone masked" aria-labelledby="Phone"
                    type="tel" name="phone" pattern="\(\d{3}\) \d{3}-\d{4}?" title="Phone Number" maxlength="14" placeholder="(555) 555-5555">
                <p class="error phone-err">Please Add a Valid Phone Number</p>
            </div>
            <div class="three-times-size">
                <label for="cust_email" aria-label="Email" class="label-text">Email
                    <sup>*</sup>
                </label>
                <input id="cust_email" aria-label="Email" name="cust_email" class="input-field your-email" aria-labelledby="Email" type="email"
                    maxlength="40" placeholder="name@example.com" required>
                <p class="error email-err">Please Add a Valid Email</p>
            </div>
        </section>
        <section class="return-info-wrap section-wrap">
            <header class="col-xs-12 section-header">
                <h2>Return Information:</h2>
            </header>
            <div class="two-across first-row-input">
                <label for="cust_invoice" class="label-text">Invoice
                    <sup>*</sup>
                </label>
                <input id="cust_invoice" aria-label="Invoice Number" name="cust_invoice" class="input-field your-invoice" type="text" name="Invoice"
                    maxlength="11" placeholder="123-4567890" required>
                <p class="error invoice-err">Please Add a Valid Invoice Number</p>
            </div>
            <div class="two-across">
                <label for="model_num" class="label-text">Model Number
                    <sup>*</sup>
                </label>
                <input id="model_num" name="model_num" aria-label="Model Number" class="input-field model-number" type="text" name="Model Number" maxlength="12"
                    placeholder="Model Number" required>
                <p class="error model-err">Please Add a Valid Model Number</p>
            </div>
            <div class="form-field form-group three-across return-reason first-row-input">
                <label for="return_reason" aria-label="Return Reason" class="label-text">Return Reason
                    <sup>*</sup>
                </label>
                <select role="listbox" aria-label="Select a reason for return" class="form-control" id="return_reason" name="return_reason" required>
                    <option role="option" label="Select a Reason" value="" disabled selected>Select a Reason</option>
                    <option role="option" label="Damanged" name="Damaged" value="Damaged">Damaged</option>
                    <option role="option" label="Defective" name="Defective" value="Defective">Defective</option>
                    <option role="option" label="Not the right model ordered" name="Not the right model ordered" value="Not the right model ordered">Wrong Model Ordered</option>
                    <option role="option" label="Changed Mind" name="Changed Mind" value="Changed Mind">Changed Mind</option>
                    <option role="option" label="Other" name="Other" value="Other">Other</option>
                </select>
                <p class="error ret-reason-err">Please make a Selection</p>
            </div>
            <div class="form-field form-group three-across return-type">
                <label for="return_type" class="label-text">Return Type
                    <sup>*</sup>
                </label>
                <select role="listbox" class="form-control" id="return_type" name="return_type" required>
                    <option role="option" value="" disabled selected>Select a Type</option>
                    <option role="option" name="return for refund" value="return for refund">Refund</option>
                    <option role="option" name="return for store credit" value="return for store credit">Store credit</option>
                    <option role="option" name="even exchange" value="even exchange">even exchange</option>
                    <option role="option" naem="exchange for different model" value="exchange for different model">exchange for different model</option>
                </select>
                <p class="error ret-type-err">Please make a Selection</p>
            </div>
            <div class="form-field form-group three-across return-packaging">
                <label for="return_packaging" class="label-text">Return Packaging
                    <sup>*</sup>
                </label>
                <select role="listbox" aria-label="Return Packaging" class="form-control" id="return_packaging" name="return_packaging" required>
                    <option role="option" label="Select Packaging" value="" disabled selected>Select Packaging</option>
                    <option role="option" label="Never opened" name="never opened" value="never opened">never opened</option>
                    <option role="option" label="Open But New" name="opened but in original new condition" value="opened but in original new condition">opened but in original new condition</option>
                    <option role="option" label="Open But no Packaging" name="opened but does not have packaging"
                        value="opened but does not have packaging">opened but does not have packaging</option>
                </select>
                <p class="error ret-packaging-err">Please make a Selection</p>
            </div>
        </section>
        <section class="comments-wrap section-wrap">
            <header class="col-xs-12 section-header">
                <h2 id="comments_section_header">Comments</h2>
            </header>
            <div class="form-field col-xs-12">
                <textarea id="cust_comments" aria-label="Your Comments" name="your_comments" class="form-control your-comments" cols="25" rows="7" maxlength="1000"
                    role="textbox" aria-labelledby="comments_section_header" aria-multiline="true"></textarea>
                <p id="text_remaining"></p>
                <p class="error comments-err">Please add a Valid Comment</p>
            </div>
        </section>
        <section class="submit-wrap section-wrap">
            <button aria-label="Submit" class="btn btn-primary form-submit-btn pull-right" type="submit">Submit</button>
        </section>
    </form>
</main>
<script type="text/javascript">
    function handleReturnHome() {
        window.location.href = "https://www.pcrichard.com"
    }

    function runValidityChecks() {
        checkPhone(), checkEmail(), checkModel(), checkInvoiceNumber(), checkSelects($("#return_packaging"), $(
                ".ret-packaging-err"), $(".ret-packaging-err").hasClass("show-el") ? packagingGood = !1 :
            packagingGood = !0), checkSelects($("#return_reason"), $(".ret-reason-err"), $(".ret-reason-err").hasClass(
            "show-el") ? reasonGood = !1 : reasonGood = !0), checkSelects($("#return_type"), $(".ret-type-err"), $(
            ".ret-type-err").hasClass("show-el") ? typeGood = !1 : typeGood = !0)
    }

    function validityCheckSum() {
        emailGood === !0 && phoneGood === !0 && modelGood === !0 && invoiceGood === !0 && packagingGood === !0 &&
            reasonGood === !0 && typeGood === !0 ? formGood = !0 : (animCodeError($(".form-submit-btn")), formGood = !1)
    }

    function checkName() {
        var e = $("#cust_name"),
            r = e.val();
        "" == r ? (animCodeError($(".form-submit-btn")), $(".name-err").addClass("show-el"), nameGood = !1) : nameGood = !
            0
    }

    function checkPhone() {
        var e = $("#cust_phone"),
            r = e.val(),
            o = r.replace(/[\s- )(]/g, ""),
            n = /^\d{10}$/,
            a = n.test(o),
            t = o.length;
        t >= 1 ? a ? phoneGood = !0 : (animCodeError($(".form-submit-btn")), $(".phone-err").addClass("show-el"),
            phoneGood = !1) : phoneGood = !0
    }

    function checkEmail() {
        var e = $("#cust_email"),
            r = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,
            o = e.val(),
            n = r.test(o);
        n ? emailGood = !0 : (animCodeError($(".form-submit-btn")), $(".email-err").addClass("show-el"), emailGood = !1)
    }

    function checkModel(e) {
        var r = $("#model_num"),
            o = r.val(),
            n = e;
        "" == o || void 0 == o || "bad" == n ? (animCodeError($(".form-submit-btn")), $(".model-err").addClass(
            "show-el"), modelGood = !1) : modelGood = !0
    }

    function checkInvoiceNumber(e) {
        var r = /^[0-9]{1,3}\-[0-9]{1,7}$/,
            o = $("#cust_invoice").val(),
            n = r.test(o),
            a = e;
        n && "bad" != a ? invoiceGood = !0 : ($(".invoice-err").addClass("show-el"), invoiceGood = !1, animCodeError($(
            ".form-submit-btn")))
    }

    function checkComments() {
        var e = $("#cust_comments"),
            r = e.val();
        "" == r ? (animCodeError($(".form-submit-btn")), $(".comments-err").addClass("show-el"), commentsGood = !1) :
            commentsGood = !0
    }

    function checkSelects(e, r) {
        var o = e.val();
        null != o && "" != o || (animCodeError($(".form-submit-btn")), r.addClass("show-el"))
    }

    function removeErrorsChange(e, r) {
        e.change(function () {
            r.removeClass("show-el"), e == $("#cust_email") ? checkEmail() : e == $("#cust_invoice") ?
                checkInvoiceNumber() : e == $("#cust_phone") ? checkPhone() : e == $("#cust_comments") ?
                checkComments() : e == $("#model_num") ? checkModel() : checkSelects(e, r)
        })
    }

    function animCodeError(e) {
        e.addClass("error-shake"), e.on("webkitAnimationEnd oanimationend msAnimationEnd animationend", function (r) {
            e.delay(200).removeClass("error-shake")
        })
    }

    function textCountdown(e, r) {
        var o = 1e3;
        $(r).html(o + " characters remaining"), $(e).on("keyup", function () {
            var n = $(e).val().length,
                a = o - n;
            $(r).html(a + " characters remaining")
        })
    }

    function handleFormSubmit() {
        $(".error").removeClass("show-el");
        var e = "https://apps.pcrichard.com/www/return-authorization/",
            r = $("#cust_phone").val().replace(/[\s- )(]/g, ""),
            o = {
                name: $("#cust_name").val(),
                email: $("#cust_email").val(),
                phone: r,
                invoice: $("#cust_invoice").val(),
                modelnum: $("#model_num").val(),
                returnReason: $("#return_reason").val(),
                returnType: $("#return_type").val(),
                returnPackaging: $("#return_packaging").val(),
                comments: $("#cust_comments").val()
            };
        validityCheckSum(runValidityChecks()), doAjaxConditional(o, e)
    }

    function doAjaxConditional(e, r) {
        if (formGood) {
            var o = $.ajax({
                type: "POST",
                xhrFields: {
                    withCredentials: !0
                },
                data: e,
                crossDomain: !0,
                url: r
            });
            o.done(function (e) {
                var r = JSON.parse(e),
                    o = r.res_code;
                if (1 == o) $("html").scrollTop(0), $("main.container").html(
                    '<div class="success-message"> <h2> Thank you!</h2><p>We have received your return request.</p><p>A member of our customer service team will reply by email or phone shortly.</p><article class="hours-list"><h2>Customer Service Hours of Operation:</h2><ul><li>Monday – Friday: 9am - 7pm EST</li><li>Saturday: 9am - 5pm EST</li><li>Sunday: 11am - 5pm EST</li></ul></article><button type="submit" aria-labelledby="Submit" onclick="handleReturnHome()" class="btn btn-primary return-home-btn">Return Home</button>'
                );
                else if (2 == o) {
                    $("#return_auth_form").find(".server-err").remove();
                    var n = r.res_error_fields,
                        a = r.error_message,
                        t = (n.map(function (e) {
                                return e
                            }),
                            '<p class="error show-el server-err big-text">Please review form for errors</p>'),
                        s =
                        '<p class="error show-el server-err big-text">There was an error processing your form: ' +
                        a + "</p>";
                    n.length > 0 && ($("#return_auth_form").append(t), n.forEach(function (e) {
                        switch (e) {
                            case "email":
                                checkEmail();
                            case "invoice":
                                console.log("invoicewrong"), checkInvoiceNumber("bad");
                            case "modelnum":
                                console.log("modelwrong"), checkModel("bad");
                            case "returnReason":
                                checkSelects($("#return_reason"), $(".ret-reason-err"), $(
                                        ".ret-reason-err").hasClass("show-el") ? reasonGood = !
                                    1 : reasonGood = !0);
                            case "returnType":
                                checkSelects($("#return_type"), $(".ret-type-err"), $(
                                        ".ret-type-err").hasClass("show-el") ? typeGood = !1 :
                                    typeGood = !0);
                            case "returnPackaging":
                                checkSelects($("#return_packaging"), $(".ret-packaging-err"), $(
                                        ".ret-packaging-err").hasClass("show-el") ?
                                    packagingGood = !1 : packagingGood = !0)
                        }
                    })), a.length > 0 && $("#return_auth_form").append(s)
                }
            }).fail(function (e) {
                console.log("whoops ", e)
            })
        } else console.log("didnt pass formGood")
    }
    $(document).ready(function () {
        textCountdown($("#cust_comments"), $("#text_remaining")), $("#cust_phone").on("keyup", function () {
                $(this).val($(this).val().replace(/\(?(\d{3})\)?(\d{3})\-?(\d{4})/, "($1) $2-$3"))
            }), $("#cust_invoice").on("keyup", function () {
                $(this).val($(this).val().replace(/(\d{3})\-?(\d{7})/, "$1-$2"))
            }), removeErrorsChange($("#return_packaging"), $(".ret-packaging-err")), removeErrorsChange($(
                "#return_reason"), $(".ret-reason-err")), removeErrorsChange($("#return_type"), $(
                ".ret-type-err")), removeErrorsChange($("#cust_email"), $(".email-err")), removeErrorsChange($(
                "#cust_invoice"), $(".invoice-err")), removeErrorsChange($("#cust_name"), $(".name-err")),
            removeErrorsChange($("#cust_phone"), $(".phone-err")), removeErrorsChange($("#cust_comments"), $(
                ".comments-err")), removeErrorsChange($("#model_num"), $(".model-err")), $(".form-submit-btn").on(
                "click",
                function (e) {
                    e.preventDefault(), handleFormSubmit()
                })
    })
</script>